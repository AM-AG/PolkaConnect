üî∞ PROJECT SUMMARY

Goal: Upgrade the existing Polkadot dashboard into a multi-chain control hub supporting both Ethereum (EVM) and Polkadot (Substrate), including wallet connection, governance data, balances, and cross-chain (XCM) data visibility.

üß© PHASE 1 ‚Äî Environment & Dependencies

Objective: Ensure all dependencies for Polkadot, Ethereum, and UI layers are ready.

Tasks:

Install or verify these libraries:

npm install @polkadot/api @polkadot/extension-dapp ethers


Confirm React Query or Zustand is already installed (used for live data sync).

Make sure /api/governance endpoint already fetches Polkadot referenda data.

Confirm that the DashboardStats component exists and can receive dynamic props.

üîå PHASE 2 ‚Äî Dual Wallet Integration

Objective: Allow users to connect either Polkadot.js extension or MetaMask wallet.

Tasks for Agents:

Create a file:
src/hooks/useMultiWallet.ts

Add this logic:

import { web3Enable, web3Accounts } from '@polkadot/extension-dapp';
import { ethers } from 'ethers';

export async function connectWallet(type: 'polkadot' | 'ethereum') {
  if (type === 'polkadot') {
    const extensions = await web3Enable('PolkaConnect');
    if (extensions.length === 0) throw new Error('No Polkadot extension found');
    const accounts = await web3Accounts();
    return { type: 'polkadot', accounts };
  } else {
    if (!window.ethereum) throw new Error('MetaMask not installed');
    const provider = new ethers.BrowserProvider(window.ethereum);
    const accounts = await provider.send('eth_requestAccounts', []);
    return { type: 'ethereum', accounts };
  }
}


In the dashboard header or sidebar, add two buttons:

<Button onClick={() => connectWallet('polkadot')}>Connect Polkadot</Button>
<Button onClick={() => connectWallet('ethereum')}>Connect MetaMask</Button>


Store the connected wallet type and address in a global store (Zustand or React Context).

üí∞ PHASE 3 ‚Äî Fetch Balances and Network Data

Objective: Display live balances and chain info for both networks.

Tasks:

Create a hook src/hooks/useBalances.ts:

import { ApiPromise, WsProvider } from '@polkadot/api';
import { ethers } from 'ethers';

export async function getPolkadotBalance(address: string) {
  const api = await ApiPromise.create({ provider: new WsProvider('wss://rpc.polkadot.io') });
  const { data } = await api.query.system.account(address);
  return data.free.toHuman();
}

export async function getEthereumBalance(address: string) {
  const provider = new ethers.BrowserProvider(window.ethereum);
  const balance = await provider.getBalance(address);
  return ethers.formatEther(balance);
}


Use React Query or polling every 60s to refresh balances dynamically.

Display balances inside DashboardStats like:

<StatCard title="DOT Balance" value={`${dotBalance} DOT`} />
<StatCard title="ETH Balance" value={`${ethBalance} ETH`} />

üåâ PHASE 4 ‚Äî Cross-Chain Messaging (XCM Visibility)

Objective: Display data about connected parachains and XCM status.

Tasks:

Create a hook src/hooks/useXcmData.ts:

import { ApiPromise, WsProvider } from '@polkadot/api';

export async function getXcmChannels() {
  const api = await ApiPromise.create({ provider: new WsProvider('wss://rpc.polkadot.io') });
  const parachains = await api.query.paras.parachains();
  return parachains.map((para) => para.toNumber());
}


Fetch data and count active parachains:

const channels = await getXcmChannels();
<StatCard title="Active XCM Channels" value={`${channels.length}`} />


(Optional) Later, implement sending cross-chain messages using api.tx.xcmPallet.reserveTransferAssets.

üó≥Ô∏è PHASE 5 ‚Äî Integrate Governance & Chain Stats

Objective: Merge governance and XCM data into one dashboard.

Tasks:

Fetch proposals using the existing /api/governance endpoint.

Merge all data into a single dashboard view:

<DashboardStats>
  <StatCard title="DOT Balance" value={`${dotBalance} DOT`} />
  <StatCard title="ETH Balance" value={`${ethBalance} ETH`} />
  <StatCard title="Active XCM Channels" value={`${xcmChannels.length}`} />
  <StatCard title="Active Proposals" value={`${governanceCount}`} />
</DashboardStats>


Optionally include:

Network uptime (%)

Wallet connection status

Last sync time

üîÆ PHASE 6 ‚Äî Future Expansion (Agent Guidance)
Agents should prepare for:

Integration with Asset Hub (for unified EVM + Substrate contracts).

Cross-chain smart contract calls using Moonbeam or Astar.

Multi-chain identity (same user across Polkadot and Ethereum).

AI auto-suggestions for staking or governance participation.

‚úÖ FINAL CHECKLIST
Category	Goal	Status
Wallets	Dual support (Polkadot.js + MetaMask)	‚òê
Balances	Dynamic refresh for both networks	‚òê
Governance	Active referenda display	‚òê
Cross-chain	Parachain data & XCM monitoring	‚òê
UI	DashboardStat dynamic cards	‚òê
Future	Hooks ready for Asset Hub & Moonbeam	‚òê